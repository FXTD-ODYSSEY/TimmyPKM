{
    "version": "2.2.1",
    "type": "application/json",
    "title": "$:/plugins/hchaase/toc_counting",
    "source": "https://hchaase.github.io/HC-Plugins/",
    "plugin-type": "plugin",
    "name": "TOC Counting",
    "modifier": "HC Haase",
    "modified": "20200311101957166",
    "list": "readme changelog settings",
    "description": "TOC Counting",
    "dependents": "kin-filter",
    "creator": "HC Haase",
    "created": "20190611093248651",
    "core-version": "5.1.21",
    "author": "HC Haase",
    "tiddlers": {
        "$:/plugins/HCHaase/toc_counting/bimlas/locator/field-templates/link_count": {
            "text": "<$link to=<<currentTiddler>>>\n  <$transclude field=\"caption\"><$view field=\"title\"/></$transclude> <<toc_counting>>\n</$link>",
            "type": "text/vnd.tiddlywiki",
            "title": "$:/plugins/HCHaase/toc_counting/bimlas/locator/field-templates/link_count",
            "tags": "$:/plugins/HCHaase/toc_counting $:/tags/bimlas/locator/field-templates $:/tags/bimlas/locator/context-item-templates",
            "modifier": "HC Haase",
            "modified": "20200309121557750",
            "creator": "HC Haase",
            "created": "20200214102303417",
            "caption": "Link (with counter)"
        },
        "$:/plugins/HCHaase/toc_counting/bimlas/locator/field-templates/link_org": {
            "text": "<$link to=<<currentTiddler>>>\n  <$transclude field=\"caption\"><$view field=\"title\"/></$transclude>\n</$link>",
            "type": "text/vnd.tiddlywiki",
            "title": "$:/plugins/HCHaase/toc_counting/bimlas/locator/field-templates/link_org",
            "tags": "$:/plugins/HCHaase/toc_counting",
            "modifier": "HC Haase",
            "modified": "20200217074813681",
            "creator": "HC Haase",
            "created": "20200214111229175",
            "caption": "Link"
        },
        "$:/plugins/HCHaase/toc_counting/core/macros/list": {
            "created": "20200309130857070",
            "creator": "HC Haase",
            "text": "\\define list-links(filter,type:\"ul\",subtype:\"li\",class:\"\",emptyMessage)\n\\whitespace trim\n<$type$ class=\"$class$\">\n<$list filter=\"$filter$\" emptyMessage=<<__emptyMessage__>>>\n<$subtype$>\n<$link to={{!!title}}>\n<$transclude field=\"caption\">\n<$view field=\"title\"/>\n</$transclude>\n</$link><<toc_counting>>\n</$subtype$>\n</$list>\n</$type$>\n\\end\n\n\\define list-links-draggable-drop-actions()\n<$action-listops $tiddler=<<targetTiddler>> $field=<<targetField>> $subfilter=\"+[insertbefore:currentTiddler<actionTiddler>]\"/>\n\\end\n\n\\define list-links-draggable(tiddler,field:\"list\",type:\"ul\",subtype:\"li\",class:\"\",itemTemplate)\n\\whitespace trim\n<span class=\"tc-links-draggable-list\">\n<$vars targetTiddler=\"\"\"$tiddler$\"\"\" targetField=\"\"\"$field$\"\"\">\n<$type$ class=\"$class$\">\n<$list filter=\"[list[$tiddler$!!$field$]]\">\n<$droppable actions=<<list-links-draggable-drop-actions>> tag=\"\"\"$subtype$\"\"\">\n<div class=\"tc-droppable-placeholder\"/>\n<div>\n<$transclude tiddler=\"\"\"$itemTemplate$\"\"\">\n<$link to={{!!title}}>\n<$transclude field=\"caption\">\n<$view field=\"title\"/>\n</$transclude>\n</$link><<toc_counting>>\n</$transclude>\n</div>\n</$droppable>\n</$list>\n</$type$>\n<$tiddler tiddler=\"\">\n<$droppable actions=<<list-links-draggable-drop-actions>> tag=\"div\">\n<div class=\"tc-droppable-placeholder\">\n&nbsp;\n</div>\n<div style=\"height:0.5em;\"/>\n</$droppable>\n</$tiddler>\n</$vars>\n</span>\n\\end\n\n\\define list-tagged-draggable-drop-actions(tag)\n<!-- Save the current ordering of the tiddlers with this tag -->\n<$set name=\"order\" filter=\"[<__tag__>tagging[]]\">\n<!-- Remove any list-after or list-before fields from the tiddlers with this tag -->\n<$list filter=\"[<__tag__>tagging[]]\">\n<$action-deletefield $field=\"list-before\"/>\n<$action-deletefield $field=\"list-after\"/>\n</$list>\n<!-- Save the new order to the Tag Tiddler -->\n<$action-listops $tiddler=<<__tag__>> $field=\"list\" $filter=\"+[enlist<order>] +[insertbefore:currentTiddler<actionTiddler>]\"/>\n<!-- Make sure the newly added item has the right tag -->\n<!-- Removing this line makes dragging tags within the dropdown work as intended -->\n<!--<$action-listops $tiddler=<<actionTiddler>> $tags=<<__tag__>>/>-->\n<!-- Using the following 5 lines as replacement makes dragging titles from outside into the dropdown apply the tag -->\n<$list filter=\"[<actionTiddler>!contains:tags<__tag__>]\">\n<$fieldmangler tiddler=<<actionTiddler>>>\n<$action-sendmessage $message=\"tm-add-tag\" $param=<<__tag__>>/>\n</$fieldmangler>\n</$list>\n</$set>\n\\end\n\n\\define list-tagged-draggable(tag,subFilter,emptyMessage,itemTemplate,elementTag:\"div\")\n\\whitespace trim\n<span class=\"tc-tagged-draggable-list\">\n<$set name=\"tag\" value=<<__tag__>>>\n<$list filter=\"[<__tag__>tagging[]$subFilter$]\" emptyMessage=<<__emptyMessage__>>>\n<$elementTag$ class=\"tc-menu-list-item\">\n<$droppable actions=\"\"\"<$macrocall $name=\"list-tagged-draggable-drop-actions\" tag=<<__tag__>>/>\"\"\">\n<$elementTag$ class=\"tc-droppable-placeholder\"/>\n<$elementTag$>\n<$transclude tiddler=\"\"\"$itemTemplate$\"\"\">\n<$link to={{!!title}}>\n<$view field=\"title\"/>\n</$link><<toc_counting>>\n</$transclude>\n</$elementTag$>\n</$droppable>\n</$elementTag$>\n</$list>\n<$tiddler tiddler=\"\">\n<$droppable actions=\"\"\"<$macrocall $name=\"list-tagged-draggable-drop-actions\" tag=<<__tag__>>/>\"\"\">\n<$elementTag$ class=\"tc-droppable-placeholder\"/>\n<$elementTag$ style=\"height:0.5em;\">\n</$elementTag$>\n</$droppable>\n</$tiddler>\n</$set>\n</span>\n\\end\n",
            "title": "$:/plugins/HCHaase/toc_counting/core/macros/list",
            "tags": "$:/tags/Macro",
            "modifier": "HC Haase",
            "modified": "20200309151438339"
        },
        "$:/plugins/HCHaase/toc_counting/license": {
            "text": "Copyright 2020 Hans Christian Haase\n\nhttps://opensource.org/licenses/BSD-3-Clause\n\nRedistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:\n\n1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.\n\n2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.\n\n3. Neither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.",
            "title": "$:/plugins/HCHaase/toc_counting/license",
            "tags": "plugins count-stuff $:/tags/Macro",
            "modifier": "HC Haase",
            "modified": "20200218144230423",
            "creator": "HC Haase",
            "created": "20200217123344397"
        },
        "$:/plugins/HCHaase/toc_counting/more/tag": {
            "text": "<$set name=\"tv-config-toolbar-icons\" value=\"yes\">\n\n<$set name=\"tv-config-toolbar-text\" value=\"yes\">\n\n<$set name=\"tv-config-toolbar-class\" value=\"\">\n\n{{$:/core/ui/Buttons/tag-manager}}\n\n</$set>\n\n</$set>\n\n</$set>\n\n<$list filter={{$:/core/Filters/AllTags!!filter}}>\n\n<$transclude tiddler=\"$:/core/ui/TagTemplate\"/><<toc_counting>>\n\n</$list>\n\n<hr class=\"tc-untagged-separator\">\n\n{{$:/core/ui/UntaggedTemplate}}\n",
            "title": "$:/plugins/HCHaase/toc_counting/more/tag",
            "tags": "count-stuff",
            "modifier": "HC Haase",
            "modified": "20200309124130572",
            "list-after": "Recent",
            "description": "placeholder for code including counting for the tags sidebar tab",
            "creator": "HC Haase",
            "created": "20200213124045173",
            "caption": "{{$:/language/SideBar/Tags/Caption}}"
        },
        "$:/plugins/HCHaase/toc_counting/more/tag_org": {
            "text": "<$set name=\"tv-config-toolbar-icons\" value=\"yes\">\n\n<$set name=\"tv-config-toolbar-text\" value=\"yes\">\n\n<$set name=\"tv-config-toolbar-class\" value=\"\">\n\n{{$:/core/ui/Buttons/tag-manager}}\n\n</$set>\n\n</$set>\n\n</$set>\n\n<$list filter={{$:/core/Filters/AllTags!!filter}}>\n\n<$transclude tiddler=\"$:/core/ui/TagTemplate\"/>\n</$list>\n\n<hr class=\"tc-untagged-separator\">\n\n{{$:/core/ui/UntaggedTemplate}}\n",
            "title": "$:/plugins/HCHaase/toc_counting/more/tag_org",
            "tags": "count-stuff",
            "modifier": "HC Haase",
            "modified": "20200225101821161",
            "list-after": "Recent",
            "description": "placeholder for original code  for the tags sidebar tab. to insert if toggle off counting",
            "creator": "HC Haase",
            "created": "20200214110918457",
            "caption": "{{$:/language/SideBar/Tags/Caption}}"
        },
        "$:/plugins/HCHaase/toc_counting/tocP/macros": {
            "text": "\\define tocP-caption()\n<$set name=\"tv-wikilinks\" value=\"no\">\n  <$transclude field=\"caption\">\n    <span title={{!!tooltip}}><$view field=\"title\"/> <small class=\"tc-menu-list-count\"><$list filter='[parent<currentTiddler>]limit[1]]'  variable=null>(<$count filter=\"[parent<currentTiddler>]\"/>)</$list></small>\n  </$transclude>\n</$set>\n\\end\n\n\\define tocP-body(tag,sort:\"\",itemClassFilter,exclude,path,field:\"parent\")\n<ol class=\"tc-toc\">\n  <$list filter=\"\"\"[has[$field$]$field$[$tag$]!has[draft.of]$sort$] $exclude$\"\"\">\n    <$vars item=<<currentTiddler>> path=\"\"\"$path$/$tag$\"\"\" excluded=\"\"\"$exclude$ -[[$tag$]]\"\"\" field=\"\"\"$field$\"\"\">\n      <$set name=\"toc-item-class\" filter=\"\"\"$itemClassFilter$\"\"\" emptyValue=\"toc-item\" value=\"toc-item-selected\">\n        <li class=<<toc-item-class>>>\n          <$list filter=\"[all[current]toc-link[no]]\" emptyMessage=\"<$link tooltip={{!!tooltip}}><$view field='caption'><$view field='title'/></$view></$link>\">\n            <<tocP-caption>>\n          </$list>\n          <$transclude tiddler='$:/config/wikilabs/tocP/newChild'></$transclude>\n          <$macrocall $name=\"tocP-body\" tag=<<item>> sort=\"\"\"$sort$\"\"\" itemClassFilter=\"\"\"$itemClassFilter$\"\"\" exclude=<<excluded>> path=<<path>> field=<<field>> />\n        </li> \n      </$set>\n    </$vars>\n  </$list>\n</ol>\n\\end\n\n\\define tocP(tag,sort:\"\",itemClassFilter:\" \",field:\"parent\")\n<<tocP-body tag:\"\"\"$tag$\"\"\" sort:\"\"\"$sort$\"\"\" itemClassFilter:\"\"\"$itemClassFilter$\"\"\" field:\"\"\"$field$\"\"\">>\n\\end\n\n\\define tocP-linked-expandable-body(tag,sort:\"\",itemClassFilter,exclude,path,field:\"parent\")\n<!-- helper function -->\n<$set name=\"toc-state\" value=<<qualify \"\"\"$:/state/toc$path$-$(currentTiddler)$\"\"\">>>\n  <$set name=\"toc-item-class\" filter=\"\"\"$itemClassFilter$\"\"\" emptyValue=\"toc-item\" value=\"toc-item-selected\">\n    <li class=<<toc-item-class>>>\n    <$link>\n      <$reveal type=\"nomatch\" state=<<toc-state>> text=\"open\">\n        <$button set=<<toc-state>> setTo=\"open\" class=\"tc-btn-invisible\">\n          {{$:/core/images/right-arrow}}\n        </$button>\n      </$reveal>\n      <$reveal type=\"match\" state=<<toc-state>> text=\"open\">\n        <$button set=<<toc-state>> setTo=\"close\" class=\"tc-btn-invisible\">\n          {{$:/core/images/down-arrow}}\n        </$button>\n      </$reveal>\n      <<tocP-caption>>\n    </$link>\n    <$transclude tiddler='$:/config/wikilabs/tocP/newChild'></$transclude>\n    <$reveal type=\"match\" state=<<toc-state>> text=\"open\">\n      <$macrocall $name=\"tocP-expandable\" tag=<<currentTiddler>> sort=\"\"\"$sort$\"\"\" itemClassFilter=\"\"\"$itemClassFilter$\"\"\" exclude=\"\"\"$exclude$\"\"\" path=\"\"\"$path$\"\"\"  field=\"\"\"$field$\"\"\"/>\n    </$reveal>\n    </li>\n  </$set>\n</$set>\n\\end\n\n\\define tocP-unlinked-expandable-body(tag,sort:\"\",itemClassFilter:\" \",exclude,path,field:\"parent\")\n<!-- helper function -->\n<$set name=\"toc-state\" value=<<qualify \"\"\"$:/state/toc$path$-$(currentTiddler)$\"\"\">>>\n  <$set name=\"toc-item-class\" filter=\"\"\"$itemClassFilter$\"\"\" emptyValue=\"toc-item\" value=\"toc-item-selected\">\n    <li class=<<toc-item-class>>>\n      <$reveal type=\"nomatch\" state=<<toc-state>> text=\"open\">\n        <$button set=<<toc-state>> setTo=\"open\" class=\"tc-btn-invisible\" tooltip={{!!tooltip}}>\n          {{$:/core/images/right-arrow}}\n          <<tocP-caption>>\n        </$button>\n      </$reveal>\n      <$reveal type=\"match\" state=<<toc-state>> text=\"open\">\n        <$button set=<<toc-state>> setTo=\"close\" class=\"tc-btn-invisible\" tooltip={{!!tooltip}}>\n          {{$:/core/images/down-arrow}}\n          <<tocP-caption>>\n        </$button>\n      </$reveal> \n      <$transclude tiddler='$:/config/wikilabs/tocP/newChild'></$transclude>\n      <$reveal type=\"match\" state=<<toc-state>> text=\"open\">\n        <$macrocall $name=\"tocP-expandable\" tag=<<currentTiddler>> sort=\"\"\"$sort$\"\"\" itemClassFilter=\"\"\"$itemClassFilter$\"\"\" exclude=\"\"\"$exclude$\"\"\" path=\"\"\"$path$\"\"\" field=\"\"\"$field$\"\"\"/>\n      </$reveal>\n    </li>\n  </$set>\n</$set>\n\\end\n\n\\define tocP-expandable-empty-message()\n<<tocP-linked-expandable-body tag:\"\"\"$(tag)$\"\"\" sort:\"\"\"$(sort)$\"\"\" itemClassFilter:\"\"\"$(itemClassFilter)$\"\"\" exclude:\"\"\"$(excluded)$\"\"\" path:\"\"\"$(path)$\"\"\" field:\"\"\"$(field)$\"\"\">>\n\\end\n\n\\define tocP-expandable(tag,sort:\"\",itemClassFilter:\" \",exclude,path,field:\"parent\")\n<$vars tag=\"\"\"$tag$\"\"\" sort=\"\"\"$sort$\"\"\" itemClassFilter=\"\"\"$itemClassFilter$\"\"\" excluded=\"\"\"$exclude$ -[[$tag$]]\"\"\" path=\"\"\"$path$/$tag$\"\"\"  field=\"\"\"$field$\"\"\">\n  <ol class=\"tc-toc toc-expandable\">\n    <$list filter=\"\"\"[has[$field$]$field$[$tag$]!has[draft.of]$sort$] $exclude$\"\"\">\n      <$list filter=\"[all[current]toc-link[no]]\" emptyMessage=<<tocP-expandable-empty-message>> >\n        <$macrocall $name=\"tocP-unlinked-expandable-body\" tag=\"\"\"$tag$\"\"\" sort=\"\"\"$sort$\"\"\" itemClassFilter=\"\"\"$itemClassFilter$\"\"\" exclude=<<excluded>> path=<<path>> field=<<field>> />\n      </$list>\n    </$list>\n  </ol>\n</$vars>\n\\end\n\n\\define tocP-linked-selective-expandable-body(tag,sort:\"\",itemClassFilter:\" \",exclude,path,field:\"parent\")\n<$set name=\"toc-state\" value=<<qualify \"\"\"$:/state/toc$path$-$(currentTiddler)$\"\"\">>>\n  <$set name=\"toc-item-class\" filter=\"\"\"$itemClassFilter$\"\"\" emptyValue=\"toc-item\" value=\"toc-item-selected\">\n    <li class=<<toc-item-class>>>\n      <$link>\n          <$list filter=\"\"\"[has[$field$]$field$<currentTiddler>limit[1]]\"\"\" variable=\"ignore\" emptyMessage=\"<$button class='tc-btn-invisible'>{{$:/core/images/blank}}</$button>\">\n          <$reveal type=\"nomatch\" state=<<toc-state>> text=\"open\">\n            <$button set=<<toc-state>> setTo=\"open\" class=\"tc-btn-invisible\">\n              {{$:/core/images/right-arrow}}\n            </$button>\n          </$reveal>\n          <$reveal type=\"match\" state=<<toc-state>> text=\"open\">\n            <$button set=<<toc-state>> setTo=\"close\" class=\"tc-btn-invisible\">\n              {{$:/core/images/down-arrow}}\n            </$button>\n          </$reveal>\n        </$list>\n        <<tocP-caption>> \n      </$link>\n      <$transclude tiddler='$:/config/wikilabs/tocP/newChild'></$transclude>\n      <$reveal type=\"match\" state=<<toc-state>> text=\"open\">\n        <$macrocall $name=\"tocP-selective-expandable\" tag=<<currentTiddler>> sort=\"\"\"$sort$\"\"\" itemClassFilter=\"\"\"$itemClassFilter$\"\"\" exclude=\"\"\"$exclude$\"\"\" path=\"\"\"$path$\"\"\"  field=\"\"\"$field$\"\"\"/>\n      </$reveal>\n    </li>\n  </$set>\n</$set>\n\\end\n\n\\define tocP-unlinked-selective-expandable-body(tag,sort:\"\",itemClassFilter:\" \",exclude,path,field:\"parent\")\n<$set name=\"toc-state\" value=<<qualify \"\"\"$:/state/toc$path$-$(currentTiddler)$\"\"\">>>\n  <$set name=\"toc-item-class\" filter=\"\"\"$itemClassFilter$\"\"\" emptyValue=\"toc-item\" value=\"toc-item-selected\">\n    <li class=<<toc-item-class>>>\n      <$list filter=\"\"\"[has[$field$]$field$<currentTiddler>limit[1]]\"\"\" variable=\"ignore\" emptyMessage=\"<$button class='tc-btn-invisible'>{{$:/core/images/blank}}</$button> <$view field='caption'><$view field='title'/></$view>\">\n        <$reveal type=\"nomatch\" state=<<toc-state>> text=\"open\">\n          <$button set=<<toc-state>> setTo=\"open\" class=\"tc-btn-invisible\" tooltip={{!!tooltip}}>\n            {{$:/core/images/right-arrow}}\n            <<tocP-caption>>\n          </$button>\n        </$reveal>\n        <$reveal type=\"match\" state=<<toc-state>> text=\"open\">\n          <$button set=<<toc-state>> setTo=\"close\" class=\"tc-btn-invisible\" tooltip={{!!tooltip}}>\n            {{$:/core/images/down-arrow}}\n            <<tocP-caption>>\n          </$button> \n        </$reveal> \n      </$list>\n      <$transclude tiddler='$:/config/wikilabs/tocP/newChild'></$transclude>\n      <$reveal type=\"match\" state=<<toc-state>> text=\"open\">\n        <$macrocall $name=\"\"\"tocP-selective-expandable\"\"\" tag=<<currentTiddler>> sort=\"\"\"$sort$\"\"\" itemClassFilter=\"\"\"$itemClassFilter$\"\"\" exclude=\"\"\"$exclude$\"\"\" path=\"\"\"$path$\"\"\"  field=\"\"\"$field$\"\"\"/>\n      </$reveal>\n    </li>\n  </$set>\n</$set>\n\\end\n\n\\define tocP-selective-expandable-empty-message()\n<<tocP-linked-selective-expandable-body tag:\"\"\"$(tag)$\"\"\" sort:\"\"\"$(sort)$\"\"\" itemClassFilter:\"\"\"$(itemClassFilter)$\"\"\" exclude:\"\"\"$(excluded)$\"\"\" path:\"\"\"$(path)$\"\"\" field:\"\"\"$(field)$\"\"\">>\n\\end\n\n\\define tocP-selective-expandable(tag,sort:\"\",itemClassFilter,exclude,path,field:\"parent\")\n<$vars tag=\"\"\"$tag$\"\"\" sort=\"\"\"$sort$\"\"\" itemClassFilter=\"\"\"$itemClassFilter$\"\"\" excluded=\"\"\"$exclude$ -[[$tag$]]\"\"\" path=\"\"\"$path$/$tag$\"\"\" field=\"\"\"$field$\"\"\">\n  <ol class=\"tc-toc toc-selective-expandable\">\n    <$list filter=\"\"\"[has[$field$]$field$[$tag$]!has[draft.of]$sort$] $exclude$\"\"\">\n      <$list filter=\"[all[current]toc-link[no]]\" variable=\"ignore\" emptyMessage=<<tocP-selective-expandable-empty-message>> >\n        <$macrocall $name=tocP-unlinked-selective-expandable-body tag=\"\"\"$tag$\"\"\" sort=\"\"\"$sort$\"\"\" itemClassFilter=\"\"\"$itemClassFilter$\"\"\" exclude=<<excluded>> path=<<path>> field=<<field>> >\n      </$list>\n    </$list>\n  </ol>\n</$vars>\n\\end\n\n\\define tocP-tabbed-selected-item-filter(selectedTiddler)\n[all[current]field:title{$selectedTiddler$}]\n\\end\n\n\\define tocP-tabbed-external-nav(tag,sort:\"\",selectedTiddler:\"$:/temp/toc/selectedTiddler\",unselectedText,missingText,template:\"\")\n<$tiddler tiddler={{$selectedTiddler$}}>\n  <div class=\"tc-tabbed-table-of-contents\">\n    <$linkcatcher to=\"$selectedTiddler$\">\n      <div class=\"tc-table-of-contents\">\n        <$macrocall $name=\"tocP-selective-expandable\" tag=\"\"\"$tag$\"\"\" sort=\"\"\"$sort$\"\"\" itemClassFilter=<<toc-tabbed-selected-item-filter selectedTiddler:\"\"\"$selectedTiddler$\"\"\">>/>\n      </div>\n    </$linkcatcher>\n    <div class=\"tc-tabbed-table-of-contents-content\">\n      <$reveal state=\"\"\"$selectedTiddler$\"\"\" type=\"nomatch\" text=\"\">\n        <$transclude mode=\"block\" tiddler=\"$template$\">\n          <h1><<tocP-caption>></h1>\n          <$transclude mode=\"block\">$missingText$</$transclude>\n        </$transclude>\n      </$reveal>\n      <$reveal state=\"\"\"$selectedTiddler$\"\"\" type=\"match\" text=\"\">\n        $unselectedText$\n      </$reveal>\n    </div>\n  </div>\n</$tiddler>\n\\end\n\n\\define tocP-tabbed-internal-nav(tag,sort:\"\",selectedTiddler:\"$:/temp/toc/selectedTiddler\",unselectedText,missingText,template:\"\")\n<$linkcatcher to=\"\"\"$selectedTiddler$\"\"\">\n  <$macrocall $name=\"tocP-tabbed-external-nav\" tag=\"\"\"$tag$\"\"\" sort=\"\"\"$sort$\"\"\" selectedTiddler=\"\"\"$selectedTiddler$\"\"\" unselectedText=\"\"\"$unselectedText$\"\"\" missingText=\"\"\"$missingText$\"\"\" template=\"\"\"$template$\"\"\"/>\n</$linkcatcher>\n\\end\n\n",
            "title": "$:/plugins/HCHaase/toc_counting/tocP/macros",
            "tags": "plugins count-stuff",
            "modifier": "HC Haase",
            "modified": "20200309124446220",
            "description": "code from p Marios tocp plugin with counting inserted. will be given tag tags/macro to replace the original toc macro",
            "creator": "HC Haase",
            "created": "20200217120703732"
        },
        "$:/plugins/HCHaase/toc_counting/button/toggle-counting-level": {
            "created": "20200310153832712",
            "creator": "HC Haase",
            "text": "<$reveal type=\"match\" state=\"$:/state/plugins/HCHaase/toc_counting/macro/toc_counting!!level\" text=\"off\"><$button set=\"$:/state/plugins/HCHaase/toc_counting/macro/toc_counting!!level\" setTo=\"1\" tooltip=\"TOC: count first level\" class=<<tv-config-toolbar-class>>>{{$:/core/images/down-arrow}}</$button></$reveal>\n\n<$reveal type=\"match\" state=\"$:/state/plugins/HCHaase/toc_counting/macro/toc_counting!!level\" text=\"1\"><$button set=\"$:/state/plugins/HCHaase/toc_counting/macro/toc_counting!!level\" setTo=\"deep\" tooltip=\"TOC: count all levels\" class=<<tv-config-toolbar-class>>>{{$:/core/images/right-arrow}}</$button></$reveal>\n\n<$reveal type=\"match\" state=\"$:/state/plugins/HCHaase/toc_counting/macro/toc_counting!!level\" text=\"deep\"> <$button set=\"$:/state/plugins/HCHaase/toc_counting/macro/toc_counting!!level\" setTo=\"off\" tooltip=\"TOC: turn off\" class=<<tv-config-toolbar-class>>>{{$:/core/images/left-arrow}}</$button> </$reveal>  \n",
            "title": "$:/plugins/HCHaase/toc_counting/button/toggle-counting-level",
            "tags": "$:/tags/PageControls",
            "modifier": "HC Haase",
            "modified": "20200311075508619",
            "description": "Toggle counting in TOCs (1. leve/all levels/off)",
            "caption": "{{$:/core/images/right-arrow}} TOC_counting"
        },
        "$:/state/plugins/HCHaase/toc_counting/macro/toc_counting": {
            "created": "20200309145412325",
            "creator": "HC Haase",
            "text": "tag/link",
            "title": "$:/state/plugins/HCHaase/toc_counting/macro/toc_counting",
            "modifier": "HC Haase",
            "modified": "20200311110035694",
            "level": "1",
            "description": "state for the the count type of the toc_counting macro. level field to choose between clasin and deep level search with kin filter"
        },
        "$:/plugins/HCHaase/toc_counting/readme": {
            "created": "20190611082221870",
            "creator": "HC Haase",
            "text": "The //TOC counting// plugin adds a count of child tiddlers to the right of each entry in the TOC(s) and list. No count will be shown if there isn't any child tiddlers (e.g. no 0).\n\nChange state by pressing the number\n\n# show tags (tag)\n# show tags and backlinkslinkls (tag/__links__)\n# show backlinks (__links__)\n\n\nLinks are __underlined__.\n\n(Note: if you are filtering by e.g. links[] (or using the list-links macro), you might want to change the view to links and not tags) \n\nIf you want to use the plugin in deep mode with counting of all sub-level tiddlers, you also need to install the kin-filter by Bimlas.\n\n* Plugin homepage: https://hchaase.github.io/HC-Plugins/\n* Plugin dependencies (only for deep mode): The [[kin-filter|https://bimlas.gitlab.io/tw5-kin-filter/]]\n\nThe plugin can be toggled on or of in the settings or below.\n\n{{$:/plugins/HCHaase/toc_counting/settings}}\n\n\nSee [[changelog and roadmap here|$:/plugins/HCHaase/toc_counting/changelog]].",
            "title": "$:/plugins/HCHaase/toc_counting/readme",
            "modifier": "HC Haase",
            "modified": "20200311084928641"
        },
        "$:/plugins/HCHaase/toc_counting/settings": {
            "created": "20190611081555857",
            "creator": "HC Haase",
            "text": "! [[Counting in Table of Contents|$:/plugins/HCHaase/toc_counting/settings]] \n\nChoose between classic mode, counting tags for the// first level//, deep mode with counting, tags in //all levels//  (requires the kin-filter plugin) or turn off.\nToggle below or press the button <<icon {{$:/plugins/HCHaase/toc_counting/button/toggle-counting-level}}>> in the page toolbar.\n\n*<$radio tiddler=\"$:/state/plugins/HCHaase/toc_counting/macro/toc_counting\" field=\"level\" value=\"1\"> Classic mode (1 level)</$radio>\n*<$radio tiddler=\"$:/state/plugins/HCHaase/toc_counting/macro/toc_counting\" field=\"level\" value=\"deep\"> Deep mode (all levels)</$radio> (NB: will slowdown the wiki)\n*<$radio tiddler=\"$:/state/plugins/HCHaase/toc_counting/macro/toc_counting\" field=\"level\" value=\"off\"> Turn off</$radio>\n\n!! Enable \n*<$checkbox tiddler=\"$:/plugins/HCHaase/toc_counting\" tag=\"$:/tags/Macro\" default=\"$:/tags/Macro\"> <$link to=\"$:/plugins/HCHaase/toc_counting/settings/readme\">Enable counting of sub-tiddlers in TOC</$link> </$checkbox>\n*<$checkbox tiddler=\"$:/core/ui/MoreSideBar/Tags\" field=\"text\" checked={{$:/plugins/HCHaase/toc_counting/more/tag!!text}} unchecked={{$:/plugins/HCHaase/toc_counting/more/tag_org!!text}}default={{!!tags_count}} > <$link to=\"$:/plugins/HCHaase/toc_counting/more/tag\">Enable counting of sub-tiddlers in More/Tags</$link> </$checkbox>  \n*<$checkbox tiddler=\"$:/plugins/HCHaase/toc_counting/core/macros/list\" tag=\"$:/tags/Macro\" default=\"$:/tags/Macro\"> <$link to=\"$:/plugins/HCHaase/toc_counting/core/macros/list\">Enable counting of sub-tiddlers in list-links and list link-draggable</$link> </$checkbox>\n\n!! Integration with other plugins\nHere you can toggle counting in other TOC making plugins. If this interfere undesirably with these plugins (e.g. with future updates), you can leave them unchecked.\n\n*<$checkbox  tiddler=\"$:/plugins/bimlas/locator/field-templates/link\" field=\"text\" checked={{$:/plugins/HCHaase/toc_counting/bimlas/locator/field-templates/link_count!!text}} unchecked={{$:/plugins/HCHaase/toc_counting/bimlas/locator/field-templates/link_org!!text}}>\n<$link to=\"$:/plugins/bimlas/locator/field-templates/link\">Enable counting of sub-tiddlers in Locator TOC</$link> </$checkbox>\n\nIf you have the [[locator plugin|https://bimlas.gitlab.io/tw5-locator/#]] form bimlas, you can toggle the counting above. OR you can use the locator/context setting, in the locator plugin to toggle it. Press the context menu (cog wheel) and change the `Template of context items:` to LINKS (with counter).\n\n*<$checkbox tiddler=\"$:/plugins/HCHaase/toc_counting/tocP/macros\" tag=\"$:/tags/Macro\" default=\"\"> <$link to=\"$:/plugins/HCHaase/toc_counting/tocP/readme\">Enable (partial) counting of sub-tiddlers in tocP</$link> </$checkbox>\n\nNB: The support for the [[tocP plugin|https://wikilabs.github.io/editions/tocP/]] is only partial. It will only work when the plugin is used with the `parent` field and not when used with a custom field.\n\n",
            "title": "$:/plugins/HCHaase/toc_counting/settings",
            "tags": "$:/tags/ControlPanel/Settings",
            "modifier": "HC Haase",
            "modified": "20200311101838852"
        },
        "$:/plugins/HCHaase/toc_counting/toc": {
            "created": "20180911090306734",
            "creator": "HC Haase",
            "text": "\\define toc-caption()\n<$set name=\"tv-wikilinks\" value=\"no\">\n  <$transclude field=\"caption\">\n    <$view field=\"title\"/>\n  </$transclude>\n</$set>\n\\end\n\n\\define toc-body(tag,sort:\"\",itemClassFilter,exclude,path)\n<ol class=\"tc-toc\">\n  <$list filter=\"\"\"[all[shadows+tiddlers]tag[$tag$]!has[draft.of]$sort$] -[[$tag$]] $exclude$\"\"\">\n    <$vars item=<<currentTiddler>> path=\"\"\"$path$/$tag$\"\"\" excluded=\"\"\"$exclude$ -[[$tag$]]\"\"\">\n      <$set name=\"toc-item-class\" filter=\"\"\"$itemClassFilter$\"\"\" emptyValue=\"toc-item\" value=\"toc-item-selected\">\n        <li class=<<toc-item-class>>>\n          <$list filter=\"[all[current]toc-link[no]]\" emptyMessage=\"<$link><$view field='caption'><$view field='title'/></$view></$link>\">\n            <<toc-caption>><<toc_counting>>\n          </$list>\n          <$macrocall $name=\"toc-body\" tag=<<item>> sort=\"\"\"$sort$\"\"\" itemClassFilter=\"\"\"$itemClassFilter$\"\"\" exclude=<<excluded>> path=<<path>>/>\n        </li>\n      </$set>\n    </$vars>\n  </$list>\n</ol>\n\\end\n\n\\define toc(tag,sort:\"\",itemClassFilter:\" \")\n<<toc-body tag:\"\"\"$tag$\"\"\" sort:\"\"\"$sort$\"\"\" itemClassFilter:\"\"\"$itemClassFilter$\"\"\">>\n\\end\n\n\\define toc-linked-expandable-body(tag,sort:\"\",itemClassFilter,exclude,path)\n<!-- helper function -->\n<$set name=\"toc-state\" value=<<qualify \"\"\"$:/state/toc$path$-$(currentTiddler)$\"\"\">>>\n  <$set name=\"toc-item-class\" filter=\"\"\"$itemClassFilter$\"\"\" emptyValue=\"toc-item\" value=\"toc-item-selected\">\n    <li class=<<toc-item-class>>>\n    <$link>\n      <$reveal type=\"nomatch\" state=<<toc-state>> text=\"open\">\n        <$button set=<<toc-state>> setTo=\"open\" class=\"tc-btn-invisible tc-popup-keep\">\n          {{$:/core/images/right-arrow}}\n        </$button>\n      </$reveal>\n      <$reveal type=\"match\" state=<<toc-state>> text=\"open\">\n        <$button set=<<toc-state>> setTo=\"close\" class=\"tc-btn-invisible tc-popup-keep\">\n          {{$:/core/images/down-arrow}}\n        </$button>\n      </$reveal>\n      <<toc-caption>><<toc_counting>>\n    </$link>\n    <$reveal type=\"match\" state=<<toc-state>> text=\"open\">\n      <$macrocall $name=\"toc-expandable\" tag=<<currentTiddler>> sort=\"\"\"$sort$\"\"\" itemClassFilter=\"\"\"$itemClassFilter$\"\"\" exclude=\"\"\"$exclude$\"\"\" path=\"\"\"$path$\"\"\"/>\n    </$reveal>\n    </li>\n  </$set>\n</$set>\n\\end\n\n\\define toc-unlinked-expandable-body(tag,sort:\"\",itemClassFilter:\" \",exclude,path)\n<!-- helper function -->\n<$set name=\"toc-state\" value=<<qualify \"\"\"$:/state/toc$path$-$(currentTiddler)$\"\"\">>>\n  <$set name=\"toc-item-class\" filter=\"\"\"$itemClassFilter$\"\"\" emptyValue=\"toc-item\" value=\"toc-item-selected\">\n    <li class=<<toc-item-class>>>\n      <$reveal type=\"nomatch\" state=<<toc-state>> text=\"open\">\n        <$button set=<<toc-state>> setTo=\"open\" class=\"tc-btn-invisible tc-popup-keep\">\n          {{$:/core/images/right-arrow}}\n          <<toc-caption>><<toc_counting>>\n        </$button>\n      </$reveal>\n      <$reveal type=\"match\" state=<<toc-state>> text=\"open\">\n        <$button set=<<toc-state>> setTo=\"close\" class=\"tc-btn-invisible tc-popup-keep\">\n          {{$:/core/images/down-arrow}}\n          <<toc-caption>><<toc_counting>>\n        </$button>\n      </$reveal>\n      <$reveal type=\"match\" state=<<toc-state>> text=\"open\">\n        <$macrocall $name=\"toc-expandable\" tag=<<currentTiddler>> sort=\"\"\"$sort$\"\"\" itemClassFilter=\"\"\"$itemClassFilter$\"\"\" exclude=\"\"\"$exclude$\"\"\" path=\"\"\"$path$\"\"\"/>\n      </$reveal>\n    </li>\n  </$set>\n</$set>\n\\end\n\n\\define toc-expandable-empty-message()\n<<toc-linked-expandable-body tag:\"\"\"$(tag)$\"\"\" sort:\"\"\"$(sort)$\"\"\" itemClassFilter:\"\"\"$(itemClassFilter)$\"\"\" exclude:\"\"\"$(excluded)$\"\"\" path:\"\"\"$(path)$\"\"\">>\n\\end\n\n\\define toc-expandable(tag,sort:\"\",itemClassFilter:\" \",exclude,path)\n<$vars tag=\"\"\"$tag$\"\"\" sort=\"\"\"$sort$\"\"\" itemClassFilter=\"\"\"$itemClassFilter$\"\"\" excluded=\"\"\"$exclude$ -[[$tag$]]\"\"\" path=\"\"\"$path$/$tag$\"\"\">\n  <ol class=\"tc-toc toc-expandable\">\n    <$list filter=\"\"\"[all[shadows+tiddlers]tag[$tag$]!has[draft.of]$sort$] -[[$tag$]] $exclude$\"\"\">\n      <$list filter=\"[all[current]toc-link[no]]\" emptyMessage=<<toc-expandable-empty-message>> >\n        <$macrocall $name=\"toc-unlinked-expandable-body\" tag=\"\"\"$tag$\"\"\" sort=\"\"\"$sort$\"\"\" itemClassFilter=\"\"\"itemClassFilter\"\"\" exclude=<<excluded>> path=<<path>> />\n      </$list>\n    </$list>\n  </ol>\n</$vars>\n\\end\n\n\\define toc-linked-selective-expandable-body(tag,sort:\"\",itemClassFilter:\" \",exclude,path)\n<$set name=\"toc-state\" value=<<qualify \"\"\"$:/state/toc$path$-$(currentTiddler)$\"\"\">>>\n  <$set name=\"toc-item-class\" filter=\"\"\"$itemClassFilter$\"\"\" emptyValue=\"toc-item\" value=\"toc-item-selected\" >\n    <li class=<<toc-item-class>>>\n      <$link>\n          <$list filter=\"[all[current]tagging[]limit[1]]\" variable=\"ignore\" emptyMessage=\"<$button class='tc-btn-invisible'>{{$:/core/images/blank}}</$button>\">\n          <$reveal type=\"nomatch\" state=<<toc-state>> text=\"open\">\n            <$button set=<<toc-state>> setTo=\"open\" class=\"tc-btn-invisible tc-popup-keep\">\n              {{$:/core/images/right-arrow}}\n            </$button>\n          </$reveal>\n          <$reveal type=\"match\" state=<<toc-state>> text=\"open\">\n            <$button set=<<toc-state>> setTo=\"close\" class=\"tc-btn-invisible tc-popup-keep\">\n              {{$:/core/images/down-arrow}}\n            </$button>\n          </$reveal>\n        </$list>\n        <<toc-caption>><<toc_counting>>\n      </$link>\n      <$reveal type=\"match\" state=<<toc-state>> text=\"open\">\n        <$macrocall $name=\"toc-selective-expandable\" tag=<<currentTiddler>> sort=\"\"\"$sort$\"\"\" itemClassFilter=\"\"\"$itemClassFilter$\"\"\" exclude=\"\"\"$exclude$\"\"\" path=\"\"\"$path$\"\"\"/>\n      </$reveal>\n    </li>\n  </$set>\n</$set>\n\\end\n\n\\define toc-unlinked-selective-expandable-body(tag,sort:\"\",itemClassFilter:\" \",exclude,path)\n<$set name=\"toc-state\" value=<<qualify \"\"\"$:/state/toc$path$-$(currentTiddler)$\"\"\">>>\n  <$set name=\"toc-item-class\" filter=\"\"\"$itemClassFilter$\"\"\" emptyValue=\"toc-item\" value=\"toc-item-selected\">\n    <li class=<<toc-item-class>>>\n      <$list filter=\"[all[current]tagging[]limit[1]]\" variable=\"ignore\" emptyMessage=\"<$button class='tc-btn-invisible'>{{$:/core/images/blank}}</$button> <$view field='caption'><$view field='title'/></$view>\">\n        <$reveal type=\"nomatch\" state=<<toc-state>> text=\"open\">\n          <$button set=<<toc-state>> setTo=\"open\" class=\"tc-btn-invisible tc-popup-keep\">\n            {{$:/core/images/right-arrow}}\n            <<toc-caption>><<toc_counting>>\n          </$button>\n        </$reveal>\n        <$reveal type=\"match\" state=<<toc-state>> text=\"open\">\n          <$button set=<<toc-state>> setTo=\"close\" class=\"tc-btn-invisible tc-popup-keep\">\n            {{$:/core/images/down-arrow}}\n            <<toc-caption>><<toc_counting>>\n          </$button>\n        </$reveal>\n      </$list>\n      <$reveal type=\"match\" state=<<toc-state>> text=\"open\">\n        <$macrocall $name=\"\"\"toc-selective-expandable\"\"\" tag=<<currentTiddler>> sort=\"\"\"$sort$\"\"\" itemClassFilter=\"\"\"$itemClassFilter$\"\"\" exclude=\"\"\"$exclude$\"\"\" path=\"\"\"$path$\"\"\"/>\n      </$reveal>\n    </li>\n  </$set>\n</$set>\n\\end\n\n\\define toc-selective-expandable-empty-message()\n<<toc-linked-selective-expandable-body tag:\"\"\"$(tag)$\"\"\" sort:\"\"\"$(sort)$\"\"\" itemClassFilter:\"\"\"$(itemClassFilter)$\"\"\" exclude:\"\"\"$(excluded)$\"\"\" path:\"\"\"$(path)$\"\"\">>\n\\end\n\n\\define toc-selective-expandable(tag,sort:\"\",itemClassFilter,exclude,path)\n<$vars tag=\"\"\"$tag$\"\"\" sort=\"\"\"$sort$\"\"\" itemClassFilter=\"\"\"$itemClassFilter$\"\"\" excluded=\"\"\"$exclude$ -[[$tag$]]\"\"\" path=\"\"\"$path$/$tag$\"\"\">\n  <ol class=\"tc-toc toc-selective-expandable\">\n    <$list filter=\"\"\"[all[shadows+tiddlers]tag[$tag$]!has[draft.of]$sort$] -[[$tag$]] $exclude$\"\"\">\n      <$list filter=\"[all[current]toc-link[no]]\" variable=\"ignore\" emptyMessage=<<toc-selective-expandable-empty-message>> >\n        <$macrocall $name=toc-unlinked-selective-expandable-body tag=\"\"\"$tag$\"\"\" sort=\"\"\"$sort$\"\"\" itemClassFilter=\"\"\"$itemClassFilter$\"\"\" exclude=<<excluded>> path=<<path>> >\n      </$list>\n    </$list>\n  </ol>\n</$vars>\n\\end\n\n\\define toc-tabbed-selected-item-filter(selectedTiddler)\n[all[current]field:title{$selectedTiddler$}]\n\\end\n\n\\define toc-tabbed-external-nav(tag,sort:\"\",selectedTiddler:\"$:/temp/toc/selectedTiddler\",unselectedText,missingText,template:\"\")\n<$tiddler tiddler={{$selectedTiddler$}}>\n  <div class=\"tc-tabbed-table-of-contents\">\n    <$linkcatcher to=\"$selectedTiddler$\">\n      <div class=\"tc-table-of-contents\">\n        <$macrocall $name=\"toc-selective-expandable\" tag=\"\"\"$tag$\"\"\" sort=\"\"\"$sort$\"\"\" itemClassFilter=<<toc-tabbed-selected-item-filter selectedTiddler:\"\"\"$selectedTiddler$\"\"\">>/>\n      </div>\n    </$linkcatcher>\n    <div class=\"tc-tabbed-table-of-contents-content\">\n      <$reveal state=\"\"\"$selectedTiddler$\"\"\" type=\"nomatch\" text=\"\">\n        <$transclude mode=\"block\" tiddler=\"$template$\">\n          <h1><<toc-caption>><<toc_counting>></h1>\n          <$transclude mode=\"block\">$missingText$</$transclude>\n        </$transclude>\n      </$reveal>\n      <$reveal state=\"\"\"$selectedTiddler$\"\"\" type=\"match\" text=\"\">\n        $unselectedText$\n      </$reveal>\n    </div>\n  </div>\n</$tiddler>\n\\end\n\n\\define toc-tabbed-internal-nav(tag,sort:\"\",selectedTiddler:\"$:/temp/toc/selectedTiddler\",unselectedText,missingText,template:\"\")\n<$linkcatcher to=\"\"\"$selectedTiddler$\"\"\">\n  <$macrocall $name=\"toc-tabbed-external-nav\" tag=\"\"\"$tag$\"\"\" sort=\"\"\"$sort$\"\"\" selectedTiddler=\"\"\"$selectedTiddler$\"\"\" unselectedText=\"\"\"$unselectedText$\"\"\" missingText=\"\"\"$missingText$\"\"\" template=\"\"\"$template$\"\"\"/>\n</$linkcatcher>\n\\end\n\n",
            "title": "$:/plugins/HCHaase/toc_counting/toc",
            "tags": "$:/tags/Macro",
            "modifier": "HC Haase",
            "modified": "20200311082533637",
            "description": "code from toc macro with counting inserted. will be given tag tags/macro to replace the original toc macro"
        },
        "$:/HCHaase/macros/icon": {
            "text": "\\define icon(icon navigate tooltip) \n<$button to=\"$navigate$\" tooltip=\"$tooltip$\"class=\"tc-btn-invisible\"><<__icon__>></$button>\n\\end\n\n\\define _icon(icon) \n<button class=\"tc-btn-invisible\"disabled><<__icon__>></button>\n\\end\n\n\n* ''Version'': 1.0.0\n* ''Date'': 2020/02/27\n* ''Creator'': HC Haase. Inspired by [[Bimlas|https://bimlas.gitlab.io/tw5-locator/#%24%3A%2Fbimlas%2Fmacros%2Ficon]].\n\n!! Function\nThis macro make transcluded icons follow the line height of the text with the option of a link and a tooltip. \nThis makes prettier references to buttons (like this <<_icon {{$:/core/images/new-button}} \"link\" \"tooltip text\">> instead of  this  {{$:/core/images/new-button}}) in documentation text.\n\nThere is a'' simple macro'' without a button and an ''extended macro'' with a button.\n\n!! Use\n\n;Syntax, simple macro  (note the `_`)\n:`<<_icon <transclusion> >>`<$button message=\"tm-copy-to-clipboard\" param=\"<<_icon <transclusion> >>\"}>Copy</$button>\n\n;Syntax, extended macro\n:`<<icon <transclusion> <link> \"<tooltip text>\" >>`<$button message=\"tm-copy-to-clipboard\" param=\"<<icon <transclusion> >>\"}>Copy</$button>\n\n|! Attribute|!Option|!Description|\n|transclusion|required|a transclusion of an icon|\n|link|optional|name of tiddler to link to (omit with `\"\"`)|\n|tooltip text|optional|text of tooltip|\n\n\n;Example\n:`<<icon {{$:/core/images/new-button}} \"link\" \"tooltip text\">>` \n:will produce <<icon {{$:/core/images/new-button}} \"link\" \"tooltip text\">> that links to \"link\".\nNB: if you want no link, but at tooltip, use `\"\"` for a empty link.\n\n!! Code\n\n```\n\\define icon(icon navigate tooltip) \n<$button to=\"$navigate$\" tooltip=\"$tooltip$\"class=\"tc-btn-invisible\"><<__icon__>></$button>\n\\end\n\n\\define _icon(icon) \n<button class=\"tc-btn-invisible\"disabled><<__icon__>></button>\n\\end\n```",
            "type": "text/vnd.tiddlywiki",
            "title": "$:/HCHaase/macros/icon",
            "tags": "Macros plugins TW $:/tags/Macro",
            "revision": "0",
            "modifier": "HC Haase",
            "modified": "20200309121756465",
            "creator": "HC Haase",
            "created": "20200210162320311",
            "bag": "default"
        },
        "$:/plugins/HCHaase/toc_counting/macro/toc_counting": {
            "created": "20200309120858675",
            "creator": "HC Haase",
            "text": "\\define toc_counting()\n\n<!-- clasic 1. level search in tags -->\n\n<$reveal type=\"match\" state=\"$:/state/plugins/HCHaase/toc_counting/macro/toc_counting!!level\" text=\"1\">\n<!-- show tag count if any-->\n<$reveal type=\"match\" state=\"$:/state/plugins/HCHaase/toc_counting/macro/toc_counting\" text=\"tag\">\n<$button set=\"$:/state/plugins/HCHaase/toc_counting/macro/toc_counting\" setTo=\"tag/link\" class=\"tc-btn-invisible\">\n<small class=\"tc-menu-list-count\"><$list filter='[all[tiddlers]tag<currentTiddler>limit[1]]'  variable=null> (<$count filter=\"[all[current]tagging[]]\"/>)</$list></small>\n</$button>\n</$reveal> \n\n<!-- show tag/link count if any-->\n<$reveal type=\"match\" state=\"$:/state/plugins/HCHaase/toc_counting/macro/toc_counting\" text=\"tag/link\">\n<$button set=\"$:/state/plugins/HCHaase/toc_counting/macro/toc_counting\" setTo=\"link\" class=\"tc-btn-invisible\">\n<small class=\"tc-menu-list-count\"><$list filter='[all[tiddlers]tag<currentTiddler>] [all[current]backlinks[]] +[limit[1]]'  variable=null> (<$count filter=\"[all[current]tagging[]]\"/>/__<$count filter='[all[current]backlinks[]]'/>__)</$list></small>\n</$button>\n</$reveal> \n\n<!-- show backlink count if any-->\n<$reveal type=\"match\" state=\"$:/state/plugins/HCHaase/toc_counting/macro/toc_counting\" text=\"link\">\n<$button set=\"$:/state/plugins/HCHaase/toc_counting/macro/toc_counting\" setTo=\"tag\" class=\"tc-btn-invisible\">\n<small class=\"tc-menu-list-count\"><$list filter='[all[current]backlinks[]limit[1]]'  variable=null> (__<$count filter='[all[current]backlinks[]]'/>__)</$list></small>\n</$button>\n</$reveal>\n</$reveal> \n\n\n<!-- deep level search in tags  -->\n\n<$reveal type=\"match\" state=\"$:/state/plugins/HCHaase/toc_counting/macro/toc_counting!!level\" text=\"deep\">\n<!-- show tag count if any-->\n<$reveal type=\"match\" state=\"$:/state/plugins/HCHaase/toc_counting/macro/toc_counting\" text=\"tag\">\n<$button set=\"$:/state/plugins/HCHaase/toc_counting/macro/toc_counting\" setTo=\"tag/link\" class=\"tc-btn-invisible\">\n<small class=\"tc-menu-list-count\"><$list filter='[all[tiddlers]tag<currentTiddler>limit[1]]'  variable=null> (<$count filter=\"[kin::to<currentTiddler>!<currentTiddler>]\"/>)</$list></small>\n</$button>\n</$reveal> \n\n<!-- show tag/link count if any-->\n<$reveal type=\"match\" state=\"$:/state/plugins/HCHaase/toc_counting/macro/toc_counting\" text=\"tag/link\">\n<$button set=\"$:/state/plugins/HCHaase/toc_counting/macro/toc_counting\" setTo=\"link\" class=\"tc-btn-invisible\">\n<small class=\"tc-menu-list-count\"><$list filter='[all[tiddlers]tag<currentTiddler>] [all[current]backlinks[]] +[limit[1]]'  variable=null> (<$count filter=\"[kin::to<currentTiddler>!<currentTiddler>]\"/>/__<$count filter='[all[current]backlinks[]]'/>__)</$list></small>\n</$button>\n</$reveal> \n\n<!-- show backlink count if any-->\n<$reveal type=\"match\" state=\"$:/state/plugins/HCHaase/toc_counting/macro/toc_counting\" text=\"link\">\n<$button set=\"$:/state/plugins/HCHaase/toc_counting/macro/toc_counting\" setTo=\"tag\" class=\"tc-btn-invisible\">\n<small class=\"tc-menu-list-count\"><$list filter='[all[current]backlinks[]limit[1]]'  variable=null> (__<$count filter='[all[current]backlinks[]]'/>__)</$list></small>\n</$button>\n</$reveal> \n</$reveal> \n\n\\end\n\n\n!!Function\nused in the TOC_counting plugin.\n\nuse the toc counint plugin in the different TOC's and lists to put counting at the end of entries.\n\nChange state by pressing the number\n\n# show tags (tag)\n# show tags and __backlinkslinkls__ (tag/__links__) (slower)\n# show __backlinks__ (__links__)\n\nLinks are __underlined__.\n\nswithc between one level counting, and all sub-level counting (with kin filter) (very slow) in the [[settings|$:/plugins/HCHaase/toc_counting/settings]].\n\n!!Use \n\nPut in the macros for the lists you want to add the counter to.\n\n;Syntax\n:`<<toc_counting>>` <$button message=\"tm-copy-to-clipboard\" param=\"<<toc_counting>>\"}>Copy</$button>\n\n\n",
            "title": "$:/plugins/HCHaase/toc_counting/macro/toc_counting",
            "tags": "$:/tags/Macro",
            "state": "tag/link",
            "modifier": "HC Haase",
            "modified": "20200311110008835",
            "description": "code from toc macro with counting inserted. will be given tag tags/macro to replace the original toc macro"
        },
        "$:/plugins/HCHaase/toc_counting/changelog": {
            "created": "20200214111942791",
            "creator": "HC Haase",
            "text": "I'm trying to follow the rules of [[Semantic Versioning|https://semver.org/]].\n\n2.2.1\n\n* [fix] counting of zeros in deep mode and tag/link view (corrected filter)\n\n2.2.0\n\n* [new] added counting for all sub-levels of tags (kin- filter). WARNING: this is very slow.\n* [new] added button in page toolbar with 3 modes. 1level count/all level count/turn off\n* [new] added count of links or tag/links (and tag). toggle by pressing the number (3 views)\n*[new] added support for list-links, list-links-draggable and list-tag-draggable\n*[new] moved code to a [[macro|$:/plugins/HCHaase/macro/toc_counting]] that is used in the plugin, and can be used with the syntax `<<toc_counting>>` (not used in tocp)\n* [fix] removed counting of 0 zero in the locator and tocp plugins\n*[fix] removed the double \"tags\" tab form the sidebar. $:/plugins/HCHaase/toc_counting/more/tag_org still had sidebar tag. \n\n2.1.0\n\n* [fix] removed `$:/plugins/HCHaase/toc_counting/bimlas/locator/field-templates/link_org` from templates in the locator plugin (removed tag)\n* [documentation] clarity: change caption of `$:/plugins/HCHaase/toc_counting/bimlas/locator/field-templates/link_count ` to` Link (with counter)`\n* [documentation] clarity: added description field to tiddlers, describing there function\n* [documentation] added reference to the locator plugin settings\n* [new] added count for P Marios[[ tocP|https://wikilabs.github.io/editions/tocP/]] plugin. It only works when the `parent` field is used but not with a custom field  (I don't know how to do this).\n\n2.0.0\n\n* [fix] more sidebar/tags had old and new version. now toggle between two\n* [new] toggle the more sidebar/tags count/no.count\n* [new] added count for bimlas locator plugin\n* [new] added toggle count/no.count for bimlas locator plugin\n\n1.0.0\n\n  * First public version\n  * toggle count/no.count for main toc macro\n  * add a more sidebar/tags with counts\n\n!!! Roadmap\n When I have time \n\n# ~~make the toggle 1./all levels button more pretty~~\n# speed up performance somehow.\n#~~I would like to expand this to lists as well.~~\n# ~~I would also like to add an extra count of sub-sub-tiddlers~~",
            "title": "$:/plugins/HCHaase/toc_counting/changelog",
            "tags": "",
            "modifier": "HC Haase",
            "modified": "20200311110312148"
        }
    }
}